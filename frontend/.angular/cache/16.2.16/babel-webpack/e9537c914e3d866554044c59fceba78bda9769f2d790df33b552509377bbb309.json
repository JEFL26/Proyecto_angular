{"ast":null,"code":"import { HttpHeaders, HttpEventType } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"@angular/common\";\nfunction ServicesComponent_div_20_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 26)(1, \"div\", 27)(2, \"span\", 28);\n    i0.…µ…µtext(3, \"\\uD83D\\uDCC4\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"div\", 29)(5, \"span\", 30);\n    i0.…µ…µtext(6);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(7, \"span\", 31);\n    i0.…µ…µtext(8);\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µelementStart(9, \"button\", 32);\n    i0.…µ…µlistener(\"click\", function ServicesComponent_div_20_div_7_Template_button_click_9_listener() {\n      const restoredCtx = i0.…µ…µrestoreView(_r10);\n      const item_r8 = restoredCtx.$implicit;\n      const ctx_r9 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r9.removeFile(item_r8.id));\n    });\n    i0.…µ…µtext(10, \" \\u2715 \");\n    i0.…µ…µelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r8 = ctx.$implicit;\n    const ctx_r7 = i0.…µ…µnextContext(2);\n    i0.…µ…µadvance(6);\n    i0.…µ…µtextInterpolate(item_r8.file.name);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(ctx_r7.getFileSize(item_r8.file.size));\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"disabled\", ctx_r7.uploading);\n  }\n}\nfunction ServicesComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 20)(1, \"div\", 21)(2, \"h4\");\n    i0.…µ…µtext(3);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"button\", 22);\n    i0.…µ…µlistener(\"click\", function ServicesComponent_div_20_Template_button_click_4_listener() {\n      i0.…µ…µrestoreView(_r12);\n      const ctx_r11 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r11.clearAllFiles());\n    });\n    i0.…µ…µtext(5, \" Limpiar todo \");\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(6, \"div\", 23);\n    i0.…µ…µtemplate(7, ServicesComponent_div_20_div_7_Template, 11, 3, \"div\", 24);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(8, \"button\", 25);\n    i0.…µ…µlistener(\"click\", function ServicesComponent_div_20_Template_button_click_8_listener() {\n      i0.…µ…µrestoreView(_r12);\n      const ctx_r13 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r13.uploadFiles());\n    });\n    i0.…µ…µelementStart(9, \"span\", 3);\n    i0.…µ…µtext(10);\n    i0.…µ…µelementEnd();\n    i0.…µ…µtext(11);\n    i0.…µ…µelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate1(\"Archivos seleccionados (\", ctx_r0.selectedFiles.length, \"/5)\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"disabled\", ctx_r0.uploading);\n    i0.…µ…µadvance(3);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r0.selectedFiles);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"disabled\", ctx_r0.selectedFiles.length === 0 || ctx_r0.uploading);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(ctx_r0.uploading ? \"\\u23F3\" : \"\\u2B06\\uFE0F\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", ctx_r0.uploading ? \"Subiendo...\" : \"Subir archivos\", \" \");\n  }\n}\nfunction ServicesComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 33)(1, \"div\", 34)(2, \"span\");\n    i0.…µ…µtext(3, \"Progreso de carga\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"span\", 35);\n    i0.…µ…µtext(5);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(6, \"div\", 36);\n    i0.…µ…µelement(7, \"div\", 37);\n    i0.…µ…µelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(5);\n    i0.…µ…µtextInterpolate1(\"\", ctx_r1.progress, \"%\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µstyleProp(\"width\", ctx_r1.progress, \"%\");\n  }\n}\nfunction ServicesComponent_div_22_div_40_div_17_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"li\");\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const error_r18 = ctx.$implicit;\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate(error_r18);\n  }\n}\nfunction ServicesComponent_div_22_div_40_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 66)(1, \"details\")(2, \"summary\");\n    i0.…µ…µtext(3);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"ul\", 67);\n    i0.…µ…µtemplate(5, ServicesComponent_div_22_div_40_div_17_li_5_Template, 2, 1, \"li\", 68);\n    i0.…µ…µelementEnd()()();\n  }\n  if (rf & 2) {\n    const detail_r15 = i0.…µ…µnextContext().$implicit;\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate1(\"Ver errores (\", detail_r15.errors.length, \")\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µproperty(\"ngForOf\", detail_r15.errors);\n  }\n}\nfunction ServicesComponent_div_22_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 53)(1, \"div\", 54)(2, \"span\", 55);\n    i0.…µ…µtext(3);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"span\", 56);\n    i0.…µ…µtext(5);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(6, \"div\", 57)(7, \"span\", 58);\n    i0.…µ…µtext(8);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(9, \"span\", 59);\n    i0.…µ…µtext(10);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(11, \"span\", 60);\n    i0.…µ…µtext(12);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(13, \"div\", 61);\n    i0.…µ…µelement(14, \"div\", 62)(15, \"div\", 63)(16, \"div\", 64);\n    i0.…µ…µelementEnd();\n    i0.…µ…µtemplate(17, ServicesComponent_div_22_div_40_div_17_Template, 6, 2, \"div\", 65);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const detail_r15 = ctx.$implicit;\n    const ctx_r14 = i0.…µ…µnextContext(2);\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate1(\"\\uD83D\\uDCC4 \", detail_r15.filename, \"\");\n    i0.…µ…µadvance(1);\n    i0.…µ…µclassProp(\"low\", ctx_r14.getSuccessRate(detail_r15) < 50);\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", ctx_r14.getSuccessRate(detail_r15), \"% \\u00E9xito \");\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate1(\"\\u2713 \", detail_r15.completed, \"\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate1(\"\\u2298 \", detail_r15.skipped, \"\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate1(\"\\u2715 \", detail_r15.failed, \"\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µstyleProp(\"width\", detail_r15.completed / detail_r15.total * 100, \"%\");\n    i0.…µ…µproperty(\"title\", \"Completados: \" + detail_r15.completed);\n    i0.…µ…µadvance(1);\n    i0.…µ…µstyleProp(\"width\", detail_r15.skipped / detail_r15.total * 100, \"%\");\n    i0.…µ…µproperty(\"title\", \"Omitidos: \" + detail_r15.skipped);\n    i0.…µ…µadvance(1);\n    i0.…µ…µstyleProp(\"width\", detail_r15.failed / detail_r15.total * 100, \"%\");\n    i0.…µ…µproperty(\"title\", \"Fallidos: \" + detail_r15.failed);\n    i0.…µ…µadvance(1);\n    i0.…µ…µproperty(\"ngIf\", detail_r15.errors && detail_r15.errors.length > 0);\n  }\n}\nfunction ServicesComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 38)(1, \"div\", 39)(2, \"h4\");\n    i0.…µ…µtext(3, \"\\u2713 Resultados de la Carga\");\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(4, \"div\", 40)(5, \"div\", 41)(6, \"span\", 42);\n    i0.…µ…µtext(7, \"Total archivos:\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(8, \"span\", 43);\n    i0.…µ…µtext(9);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(10, \"div\", 41)(11, \"span\", 42);\n    i0.…µ…µtext(12, \"Registros procesados:\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(13, \"span\", 43);\n    i0.…µ…µtext(14);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(15, \"div\", 44)(16, \"div\", 45)(17, \"span\", 46);\n    i0.…µ…µtext(18, \"\\u2713\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(19, \"span\", 47);\n    i0.…µ…µtext(20);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(21, \"span\", 48);\n    i0.…µ…µtext(22, \"Completados\");\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(23, \"div\", 49)(24, \"span\", 46);\n    i0.…µ…µtext(25, \"\\u2298\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(26, \"span\", 47);\n    i0.…µ…µtext(27);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(28, \"span\", 48);\n    i0.…µ…µtext(29, \"Omitidos\");\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(30, \"div\", 50)(31, \"span\", 46);\n    i0.…µ…µtext(32, \"\\u2715\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(33, \"span\", 47);\n    i0.…µ…µtext(34);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(35, \"span\", 48);\n    i0.…µ…µtext(36, \"Fallidos\");\n    i0.…µ…µelementEnd()()()();\n    i0.…µ…µelementStart(37, \"div\", 51)(38, \"h5\");\n    i0.…µ…µtext(39, \"Detalle por archivo\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µtemplate(40, ServicesComponent_div_22_div_40_Template, 18, 17, \"div\", 52);\n    i0.…µ…µelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(9);\n    i0.…µ…µtextInterpolate(ctx_r2.uploadResult.summary.total_files);\n    i0.…µ…µadvance(5);\n    i0.…µ…µtextInterpolate(ctx_r2.uploadResult.summary.total_processed);\n    i0.…µ…µadvance(6);\n    i0.…µ…µtextInterpolate(ctx_r2.uploadResult.summary.completed);\n    i0.…µ…µadvance(7);\n    i0.…µ…µtextInterpolate(ctx_r2.uploadResult.summary.skipped);\n    i0.…µ…µadvance(7);\n    i0.…µ…µtextInterpolate(ctx_r2.uploadResult.summary.failed);\n    i0.…µ…µadvance(6);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r2.uploadResult.details);\n  }\n}\nfunction ServicesComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 69)(1, \"span\", 70);\n    i0.…µ…µtext(2, \"\\u26A0\\uFE0F\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µtext(3);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate1(\" \", ctx_r3.error, \" \");\n  }\n}\nfunction ServicesComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 71);\n    i0.…µ…µelement(1, \"div\", 72);\n    i0.…µ…µelementStart(2, \"span\");\n    i0.…µ…µtext(3, \"Cargando servicios...\");\n    i0.…µ…µelementEnd()();\n  }\n}\nfunction ServicesComponent_table_28_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"tr\")(1, \"td\");\n    i0.…µ…µtext(2);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"td\");\n    i0.…µ…µtext(4);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"td\");\n    i0.…µ…µtext(6);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(7, \"td\");\n    i0.…µ…µtext(8);\n    i0.…µ…µpipe(9, \"currency\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(10, \"td\")(11, \"span\", 74);\n    i0.…µ…µtext(12);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(13, \"td\", 75)(14, \"button\", 76);\n    i0.…µ…µlistener(\"click\", function ServicesComponent_table_28_tr_16_Template_button_click_14_listener() {\n      const restoredCtx = i0.…µ…µrestoreView(_r23);\n      const s_r21 = restoredCtx.$implicit;\n      const ctx_r22 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r22.editService(s_r21.id_service));\n    });\n    i0.…µ…µtext(15, \" \\u270F\\uFE0F \");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(16, \"button\", 77);\n    i0.…µ…µlistener(\"click\", function ServicesComponent_table_28_tr_16_Template_button_click_16_listener() {\n      const restoredCtx = i0.…µ…µrestoreView(_r23);\n      const s_r21 = restoredCtx.$implicit;\n      const ctx_r24 = i0.…µ…µnextContext(2);\n      return i0.…µ…µresetView(ctx_r24.deleteService(s_r21.id_service));\n    });\n    i0.…µ…µtext(17, \" \\uD83D\\uDDD1\\uFE0F \");\n    i0.…µ…µelementEnd()()();\n  }\n  if (rf & 2) {\n    const s_r21 = ctx.$implicit;\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(s_r21.id_service);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(s_r21.name);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate1(\"\", s_r21.duration_minutes, \" min\");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(i0.…µ…µpipeBind4(9, 9, s_r21.price, \"COP\", \"symbol-narrow\", \"1.0-0\"));\n    i0.…µ…µadvance(3);\n    i0.…µ…µclassProp(\"active\", s_r21.state)(\"inactive\", !s_r21.state);\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", s_r21.state ? \"Activo\" : \"Inactivo\", \" \");\n  }\n}\nfunction ServicesComponent_table_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"table\", 73)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.…µ…µtext(4, \"ID\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"th\");\n    i0.…µ…µtext(6, \"Nombre\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(7, \"th\");\n    i0.…µ…µtext(8, \"Duraci\\u00F3n\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(9, \"th\");\n    i0.…µ…µtext(10, \"Precio\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(11, \"th\");\n    i0.…µ…µtext(12, \"Estado\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(13, \"th\");\n    i0.…µ…µtext(14, \"Acciones\");\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µelementStart(15, \"tbody\");\n    i0.…µ…µtemplate(16, ServicesComponent_table_28_tr_16_Template, 18, 14, \"tr\", 68);\n    i0.…µ…µelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(16);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r5.services);\n  }\n}\nfunction ServicesComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"div\", 78)(1, \"span\", 79);\n    i0.…µ…µtext(2, \"\\uD83D\\uDCCB\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"p\");\n    i0.…µ…µtext(4, \"No hay servicios registrados\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(5, \"button\", 2);\n    i0.…µ…µlistener(\"click\", function ServicesComponent_div_29_Template_button_click_5_listener() {\n      i0.…µ…µrestoreView(_r26);\n      const ctx_r25 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r25.createService());\n    });\n    i0.…µ…µtext(6, \"Crear primer servicio\");\n    i0.…µ…µelementEnd()();\n  }\n}\nexport class ServicesComponent {\n  constructor(serviceService, router, http) {\n    this.serviceService = serviceService;\n    this.router = router;\n    this.http = http;\n    this.services = [];\n    this.loading = false;\n    this.error = '';\n    // Manejo de archivos\n    this.selectedFiles = [];\n    this.uploading = false;\n    this.progress = 0;\n    this.uploadResult = null;\n  }\n  ngOnInit() {\n    this.fetchServices();\n  }\n  fetchServices() {\n    this.loading = true;\n    this.error = '';\n    this.serviceService.getAll().subscribe({\n      next: data => {\n        this.services = data;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Error al cargar los servicios';\n        this.loading = false;\n        console.error('Error:', err);\n      }\n    });\n  }\n  editService(id) {\n    this.router.navigate(['/admin/services/edit', id]);\n  }\n  deleteService(id) {\n    if (confirm('¬øSeguro que quieres eliminar este servicio?')) {\n      this.serviceService.delete(id).subscribe({\n        next: () => {\n          this.fetchServices();\n          alert('Servicio eliminado correctamente');\n        },\n        error: err => {\n          alert('Error al eliminar el servicio');\n          console.error('Error:', err);\n        }\n      });\n    }\n  }\n  createService() {\n    this.router.navigate(['/admin/services/new']);\n  }\n  back() {\n    this.router.navigate(['/admin']);\n  }\n  // --- Manejo de archivos Excel ---\n  onFileSelected(event) {\n    const files = event.target.files;\n    if (!files || files.length === 0) return;\n    const newFiles = Array.from(files);\n    // Validar l√≠mite de 5 archivos total\n    if (this.selectedFiles.length + newFiles.length > 5) {\n      alert('Solo puedes seleccionar hasta 5 archivos en total.');\n      event.target.value = ''; // Limpiar input\n      return;\n    }\n    // Validar extensi√≥n\n    const invalidFiles = newFiles.filter(f => !f.name.toLowerCase().endsWith('.xls') && !f.name.toLowerCase().endsWith('.xlsx'));\n    if (invalidFiles.length > 0) {\n      alert(`Archivos con formato inv√°lido: ${invalidFiles.map(f => f.name).join(', ')}`);\n      event.target.value = '';\n      return;\n    }\n    // Validar tama√±o (5 MB por archivo)\n    const oversized = newFiles.filter(f => f.size > 5 * 1024 * 1024);\n    if (oversized.length > 0) {\n      alert(`Archivos que superan 5 MB: ${oversized.map(f => f.name).join(', ')}`);\n      event.target.value = '';\n      return;\n    }\n    // Validar duplicados\n    const duplicates = newFiles.filter(newFile => this.selectedFiles.some(existing => existing.file.name === newFile.name));\n    if (duplicates.length > 0) {\n      alert(`Archivos ya seleccionados: ${duplicates.map(f => f.name).join(', ')}`);\n      event.target.value = '';\n      return;\n    }\n    // Agregar archivos v√°lidos\n    newFiles.forEach(file => {\n      this.selectedFiles.push({\n        file: file,\n        id: this.generateId()\n      });\n    });\n    event.target.value = ''; // Limpiar input para permitir reselecci√≥n\n  }\n\n  removeFile(id) {\n    this.selectedFiles = this.selectedFiles.filter(item => item.id !== id);\n  }\n  clearAllFiles() {\n    this.selectedFiles = [];\n    this.uploadResult = null;\n  }\n  uploadFiles() {\n    if (this.selectedFiles.length === 0) return;\n    this.uploading = true;\n    this.progress = 0;\n    this.uploadResult = null;\n    this.error = '';\n    const formData = new FormData();\n    this.selectedFiles.forEach(item => {\n      formData.append('files', item.file);\n    });\n    const token = localStorage.getItem('access_token');\n    const headers = new HttpHeaders({\n      Authorization: `Bearer ${token}`\n    });\n    this.http.post('http://localhost:8000/upload/excel', formData, {\n      headers,\n      observe: 'events',\n      reportProgress: true\n    }).subscribe({\n      next: event => {\n        if (event.type === HttpEventType.UploadProgress && event.total) {\n          this.progress = Math.round(event.loaded / event.total * 100);\n        } else if (event.type === HttpEventType.Response) {\n          this.uploadResult = event.body;\n          this.uploading = false;\n          this.progress = 100;\n          this.fetchServices(); // Recargar lista de servicios\n          // Mostrar mensaje de √©xito\n          if (this.uploadResult) {\n            const {\n              completed,\n              failed\n            } = this.uploadResult.summary;\n            if (failed === 0) {\n              alert(`‚úì Carga completada: ${completed} servicios agregados`);\n            } else {\n              alert(`Carga finalizada: ${completed} exitosos, ${failed} fallidos`);\n            }\n          }\n        }\n      },\n      error: err => {\n        this.uploading = false;\n        this.progress = 0;\n        const errorMsg = err.error?.detail || 'Error desconocido al subir archivos';\n        this.error = errorMsg;\n        alert(`Error: ${errorMsg}`);\n        console.error('Error upload:', err);\n      }\n    });\n  }\n  getFileSize(bytes) {\n    if (bytes < 1024) return bytes + ' B';\n    if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';\n    return (bytes / (1024 * 1024)).toFixed(1) + ' MB';\n  }\n  getSuccessRate(detail) {\n    const total = detail.completed + detail.skipped + detail.failed;\n    return total > 0 ? Math.round(detail.completed / total * 100) : 0;\n  }\n  generateId() {\n    return Math.random().toString(36).substr(2, 9) + Date.now();\n  }\n  static {\n    this.…µfac = function ServicesComponent_Factory(t) {\n      return new (t || ServicesComponent)(i0.…µ…µdirectiveInject(i1.ServiceService), i0.…µ…µdirectiveInject(i2.Router), i0.…µ…µdirectiveInject(i3.HttpClient));\n    };\n  }\n  static {\n    this.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: ServicesComponent,\n      selectors: [[\"app-services\"]],\n      decls: 33,\n      vars: 8,\n      consts: [[1, \"admin-container\"], [1, \"header-section\"], [1, \"btn-primary\", 3, \"click\"], [1, \"icon\"], [1, \"upload-section\"], [1, \"upload-header\"], [1, \"hint\"], [1, \"file-input-container\"], [\"for\", \"file-input\", 1, \"file-label\"], [\"id\", \"file-input\", \"type\", \"file\", \"accept\", \".xls,.xlsx\", \"multiple\", \"\", 3, \"disabled\", \"change\"], [\"class\", \"selected-files\", 4, \"ngIf\"], [\"class\", \"progress-section\", 4, \"ngIf\"], [\"class\", \"upload-results\", 4, \"ngIf\"], [\"class\", \"error-message\", 4, \"ngIf\"], [1, \"services-section\"], [\"class\", \"loading-spinner\", 4, \"ngIf\"], [\"class\", \"service-table\", 4, \"ngIf\"], [\"class\", \"empty-state\", 4, \"ngIf\"], [1, \"footer-actions\"], [\"type\", \"button\", 1, \"btn-back\", 3, \"click\"], [1, \"selected-files\"], [1, \"files-header\"], [1, \"btn-clear\", 3, \"disabled\", \"click\"], [1, \"file-list\"], [\"class\", \"file-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"btn-upload\", 3, \"disabled\", \"click\"], [1, \"file-item\"], [1, \"file-info\"], [1, \"file-icon\"], [1, \"file-details\"], [1, \"file-name\"], [1, \"file-size\"], [\"title\", \"Eliminar archivo\", 1, \"btn-remove\", 3, \"disabled\", \"click\"], [1, \"progress-section\"], [1, \"progress-label\"], [1, \"progress-percent\"], [1, \"progress-container\"], [1, \"progress-bar\"], [1, \"upload-results\"], [1, \"results-header\"], [1, \"summary-card\"], [1, \"summary-item\"], [1, \"label\"], [1, \"value\"], [1, \"summary-stats\"], [1, \"stat\", \"success\"], [1, \"stat-icon\"], [1, \"stat-value\"], [1, \"stat-label\"], [1, \"stat\", \"warning\"], [1, \"stat\", \"error\"], [1, \"file-results\"], [\"class\", \"file-result-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"file-result-card\"], [1, \"file-result-header\"], [1, \"filename\"], [1, \"success-rate\"], [1, \"file-result-stats\"], [1, \"stat-item\", \"success\"], [1, \"stat-item\", \"warning\"], [1, \"stat-item\", \"error\"], [1, \"file-progress-bar\"], [1, \"bar\", \"completed\", 3, \"title\"], [1, \"bar\", \"skipped\", 3, \"title\"], [1, \"bar\", \"failed\", 3, \"title\"], [\"class\", \"errors-section\", 4, \"ngIf\"], [1, \"errors-section\"], [1, \"error-list\"], [4, \"ngFor\", \"ngForOf\"], [1, \"error-message\"], [1, \"error-icon\"], [1, \"loading-spinner\"], [1, \"spinner\"], [1, \"service-table\"], [1, \"badge\"], [1, \"actions\"], [\"title\", \"Editar\", 1, \"btn-edit\", 3, \"click\"], [\"title\", \"Eliminar\", 1, \"btn-delete\", 3, \"click\"], [1, \"empty-state\"], [1, \"empty-icon\"]],\n      template: function ServicesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.…µ…µelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n          i0.…µ…µtext(3, \"Gesti\\u00F3n de Servicios\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(4, \"button\", 2);\n          i0.…µ…µlistener(\"click\", function ServicesComponent_Template_button_click_4_listener() {\n            return ctx.createService();\n          });\n          i0.…µ…µelementStart(5, \"span\", 3);\n          i0.…µ…µtext(6, \"+\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µtext(7, \" Crear nuevo servicio \");\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(8, \"div\", 4)(9, \"div\", 5)(10, \"h3\");\n          i0.…µ…µtext(11, \"\\uD83D\\uDCCA Carga Masiva desde Excel\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(12, \"p\", 6);\n          i0.…µ…µtext(13, \"Formatos: .xls, .xlsx | M\\u00E1ximo: 5 archivos de 5MB c/u\");\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(14, \"div\", 7)(15, \"label\", 8)(16, \"span\", 3);\n          i0.…µ…µtext(17, \"\\uD83D\\uDCC1\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µtext(18, \" Seleccionar archivos \");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(19, \"input\", 9);\n          i0.…µ…µlistener(\"change\", function ServicesComponent_Template_input_change_19_listener($event) {\n            return ctx.onFileSelected($event);\n          });\n          i0.…µ…µelementEnd()();\n          i0.…µ…µtemplate(20, ServicesComponent_div_20_Template, 12, 6, \"div\", 10);\n          i0.…µ…µtemplate(21, ServicesComponent_div_21_Template, 8, 3, \"div\", 11);\n          i0.…µ…µtemplate(22, ServicesComponent_div_22_Template, 41, 6, \"div\", 12);\n          i0.…µ…µtemplate(23, ServicesComponent_div_23_Template, 4, 1, \"div\", 13);\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(24, \"div\", 14)(25, \"h3\");\n          i0.…µ…µtext(26, \"Servicios Registrados\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µtemplate(27, ServicesComponent_div_27_Template, 4, 0, \"div\", 15);\n          i0.…µ…µtemplate(28, ServicesComponent_table_28_Template, 17, 1, \"table\", 16);\n          i0.…µ…µtemplate(29, ServicesComponent_div_29_Template, 7, 0, \"div\", 17);\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(30, \"div\", 18)(31, \"button\", 19);\n          i0.…µ…µlistener(\"click\", function ServicesComponent_Template_button_click_31_listener() {\n            return ctx.back();\n          });\n          i0.…µ…µtext(32, \" \\u2190 Volver al panel \");\n          i0.…µ…µelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.…µ…µadvance(19);\n          i0.…µ…µproperty(\"disabled\", ctx.uploading);\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", ctx.selectedFiles.length > 0);\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", ctx.uploading || ctx.progress === 100);\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", ctx.uploadResult);\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", ctx.error);\n          i0.…µ…µadvance(4);\n          i0.…µ…µproperty(\"ngIf\", ctx.loading);\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", !ctx.loading && ctx.services.length > 0);\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", !ctx.loading && ctx.services.length === 0);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i4.CurrencyPipe],\n      styles: [\".admin-container[_ngcontent-%COMP%] {\\n  max-width: 900px;\\n  margin: 30px auto;\\n  padding: 20px;\\n  background: #fafafa;\\n  border-radius: 10px;\\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\\n  font-family: sans-serif;\\n}\\n\\nh2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%] {\\n  margin-bottom: 10px;\\n  color: #333;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  padding: 6px 12px;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  background: #3f51b5;\\n  color: white;\\n}\\n\\n.btn-upload[_ngcontent-%COMP%] {\\n  background: #4caf50;\\n  color: white;\\n  margin-left: 8px;\\n}\\n\\n.upload-section[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 12px;\\n}\\n\\n.progress-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n  height: 20px;\\n  background: #eee;\\n  border-radius: 10px;\\n  overflow: hidden;\\n  padding: 0 10px;\\n}\\n\\n.progress-bar[_ngcontent-%COMP%] {\\n  background: #4caf50;\\n  height: 100%;\\n  transition: width 0.3s ease;\\n}\\n\\n.upload-result[_ngcontent-%COMP%] {\\n  margin-top: 15px;\\n}\\n\\n.result-card[_ngcontent-%COMP%] {\\n  background: #f7f7f7;\\n  padding: 12px;\\n  border-radius: 6px;\\n  border: 1px solid #ddd;\\n}\\n\\n.file-detail[_ngcontent-%COMP%] {\\n  margin-top: 8px;\\n  padding: 6px;\\n  background: #fff;\\n  border-radius: 4px;\\n  border: 1px solid #eee;\\n}\\n\\n.service-table[_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin-top: 20px;\\n  border-collapse: collapse;\\n}\\n\\n.service-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .service-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  border: 1px solid #ddd;\\n  padding: 8px;\\n  text-align: center;\\n}\\n\\n.service-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  background: #f0f0f0;\\n}\\n\\n.error[_ngcontent-%COMP%] {\\n  color: red;\\n  margin-top: 10px;\\n}\\n\\n\\n\\n.file-cards[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 10px;\\n  margin-top: 12px;\\n}\\n\\n.file-card[_ngcontent-%COMP%] {\\n  padding: 10px;\\n  border-radius: 6px;\\n  border: 1px solid #ddd;\\n  background: #fff;\\n  box-shadow: 0 1px 4px rgba(0,0,0,0.05);\\n}\\n\\n.status-bars[_ngcontent-%COMP%] {\\n  display: flex;\\n  height: 8px;\\n  margin-top: 6px;\\n  border-radius: 4px;\\n  overflow: hidden;\\n  background: #eee;\\n}\\n\\n.bar[_ngcontent-%COMP%] {\\n  height: 100%;\\n}\\n\\n.bar.completed[_ngcontent-%COMP%] {\\n  background: #4caf50;\\n}\\n\\n.bar.skipped[_ngcontent-%COMP%] {\\n  background: #ff9800;\\n}\\n\\n.bar.failed[_ngcontent-%COMP%] {\\n  background: #f44336;\\n}\\n\\n\\n\\n.summary-card[_ngcontent-%COMP%] {\\n  background: #f7f7f7;\\n  border: 1px solid #ccc;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9hZG1pbi9zZXJ2aWNlcy9zZXJ2aWNlcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGlCQUFpQjtFQUNqQixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLG1CQUFtQjtFQUNuQixxQ0FBcUM7RUFDckMsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsWUFBWTtBQUNkOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLFNBQVM7QUFDWDs7QUFFQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsUUFBUTtFQUNSLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsbUJBQW1CO0VBQ25CLGdCQUFnQjtFQUNoQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWiwyQkFBMkI7QUFDN0I7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLGtCQUFrQjtFQUNsQixzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsWUFBWTtFQUNaLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UsV0FBVztFQUNYLGdCQUFnQjtFQUNoQix5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxzQkFBc0I7RUFDdEIsWUFBWTtFQUNaLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLFVBQVU7RUFDVixnQkFBZ0I7QUFDbEI7O0FBRUEsMEJBQTBCO0FBQzFCO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixTQUFTO0VBQ1QsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLGtCQUFrQjtFQUNsQixzQkFBc0I7RUFDdEIsZ0JBQWdCO0VBQ2hCLHNDQUFzQztBQUN4Qzs7QUFFQTtFQUNFLGFBQWE7RUFDYixXQUFXO0VBQ1gsZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixnQkFBZ0I7RUFDaEIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsWUFBWTtBQUNkOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBLG1CQUFtQjtBQUNuQjtFQUNFLG1CQUFtQjtFQUNuQixzQkFBc0I7QUFDeEIiLCJzb3VyY2VzQ29udGVudCI6WyIuYWRtaW4tY29udGFpbmVyIHtcclxuICBtYXgtd2lkdGg6IDkwMHB4O1xyXG4gIG1hcmdpbjogMzBweCBhdXRvO1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbiAgYmFja2dyb3VuZDogI2ZhZmFmYTtcclxuICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsMCwwLDAuMSk7XHJcbiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbmgyLCBoMyB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICBjb2xvcjogIzMzMztcclxufVxyXG5cclxuYnV0dG9uIHtcclxuICBwYWRkaW5nOiA2cHggMTJweDtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLmJ0bi1wcmltYXJ5IHtcclxuICBiYWNrZ3JvdW5kOiAjM2Y1MWI1O1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLmJ0bi11cGxvYWQge1xyXG4gIGJhY2tncm91bmQ6ICM0Y2FmNTA7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIG1hcmdpbi1sZWZ0OiA4cHg7XHJcbn1cclxuXHJcbi51cGxvYWQtc2VjdGlvbiB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGdhcDogMTJweDtcclxufVxyXG5cclxuLnByb2dyZXNzLWNvbnRhaW5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGdhcDogOHB4O1xyXG4gIGhlaWdodDogMjBweDtcclxuICBiYWNrZ3JvdW5kOiAjZWVlO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICBwYWRkaW5nOiAwIDEwcHg7XHJcbn1cclxuXHJcbi5wcm9ncmVzcy1iYXIge1xyXG4gIGJhY2tncm91bmQ6ICM0Y2FmNTA7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIHRyYW5zaXRpb246IHdpZHRoIDAuM3MgZWFzZTtcclxufVxyXG5cclxuLnVwbG9hZC1yZXN1bHQge1xyXG4gIG1hcmdpbi10b3A6IDE1cHg7XHJcbn1cclxuXHJcbi5yZXN1bHQtY2FyZCB7XHJcbiAgYmFja2dyb3VuZDogI2Y3ZjdmNztcclxuICBwYWRkaW5nOiAxMnB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDZweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xyXG59XHJcblxyXG4uZmlsZS1kZXRhaWwge1xyXG4gIG1hcmdpbi10b3A6IDhweDtcclxuICBwYWRkaW5nOiA2cHg7XHJcbiAgYmFja2dyb3VuZDogI2ZmZjtcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2VlZTtcclxufVxyXG5cclxuLnNlcnZpY2UtdGFibGUge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxufVxyXG5cclxuLnNlcnZpY2UtdGFibGUgdGgsIC5zZXJ2aWNlLXRhYmxlIHRkIHtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xyXG4gIHBhZGRpbmc6IDhweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zZXJ2aWNlLXRhYmxlIHRoIHtcclxuICBiYWNrZ3JvdW5kOiAjZjBmMGYwO1xyXG59XHJcblxyXG4uZXJyb3Ige1xyXG4gIGNvbG9yOiByZWQ7XHJcbiAgbWFyZ2luLXRvcDogMTBweDtcclxufVxyXG5cclxuLyogQ2FyZHMgZGUgY2FkYSBhcmNoaXZvICovXHJcbi5maWxlLWNhcmRzIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgZ2FwOiAxMHB4O1xyXG4gIG1hcmdpbi10b3A6IDEycHg7XHJcbn1cclxuXHJcbi5maWxlLWNhcmQge1xyXG4gIHBhZGRpbmc6IDEwcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XHJcbiAgYmFja2dyb3VuZDogI2ZmZjtcclxuICBib3gtc2hhZG93OiAwIDFweCA0cHggcmdiYSgwLDAsMCwwLjA1KTtcclxufVxyXG5cclxuLnN0YXR1cy1iYXJzIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGhlaWdodDogOHB4O1xyXG4gIG1hcmdpbi10b3A6IDZweDtcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICBiYWNrZ3JvdW5kOiAjZWVlO1xyXG59XHJcblxyXG4uYmFyIHtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi5iYXIuY29tcGxldGVkIHtcclxuICBiYWNrZ3JvdW5kOiAjNGNhZjUwO1xyXG59XHJcblxyXG4uYmFyLnNraXBwZWQge1xyXG4gIGJhY2tncm91bmQ6ICNmZjk4MDA7XHJcbn1cclxuXHJcbi5iYXIuZmFpbGVkIHtcclxuICBiYWNrZ3JvdW5kOiAjZjQ0MzM2O1xyXG59XHJcblxyXG4vKiBSZXN1bWVuIGdsb2JhbCAqL1xyXG4uc3VtbWFyeS1jYXJkIHtcclxuICBiYWNrZ3JvdW5kOiAjZjdmN2Y3O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["HttpHeaders","HttpEventType","i0","…µ…µelementStart","…µ…µtext","…µ…µelementEnd","…µ…µlistener","ServicesComponent_div_20_div_7_Template_button_click_9_listener","restoredCtx","…µ…µrestoreView","_r10","item_r8","$implicit","ctx_r9","…µ…µnextContext","…µ…µresetView","removeFile","id","…µ…µadvance","…µ…µtextInterpolate","file","name","ctx_r7","getFileSize","size","…µ…µproperty","uploading","ServicesComponent_div_20_Template_button_click_4_listener","_r12","ctx_r11","clearAllFiles","…µ…µtemplate","ServicesComponent_div_20_div_7_Template","ServicesComponent_div_20_Template_button_click_8_listener","ctx_r13","uploadFiles","…µ…µtextInterpolate1","ctx_r0","selectedFiles","length","…µ…µelement","ctx_r1","progress","…µ…µstyleProp","error_r18","ServicesComponent_div_22_div_40_div_17_li_5_Template","detail_r15","errors","ServicesComponent_div_22_div_40_div_17_Template","filename","…µ…µclassProp","ctx_r14","getSuccessRate","completed","skipped","failed","total","ServicesComponent_div_22_div_40_Template","ctx_r2","uploadResult","summary","total_files","total_processed","details","ctx_r3","error","ServicesComponent_table_28_tr_16_Template_button_click_14_listener","_r23","s_r21","ctx_r22","editService","id_service","ServicesComponent_table_28_tr_16_Template_button_click_16_listener","ctx_r24","deleteService","duration_minutes","…µ…µpipeBind4","price","state","ServicesComponent_table_28_tr_16_Template","ctx_r5","services","ServicesComponent_div_29_Template_button_click_5_listener","_r26","ctx_r25","createService","ServicesComponent","constructor","serviceService","router","http","loading","ngOnInit","fetchServices","getAll","subscribe","next","data","err","console","navigate","confirm","delete","alert","back","onFileSelected","event","files","target","newFiles","Array","from","value","invalidFiles","filter","f","toLowerCase","endsWith","map","join","oversized","duplicates","newFile","some","existing","forEach","push","generateId","item","formData","FormData","append","token","localStorage","getItem","headers","Authorization","post","observe","reportProgress","type","UploadProgress","Math","round","loaded","Response","body","errorMsg","detail","bytes","toFixed","random","toString","substr","Date","now","…µ…µdirectiveInject","i1","ServiceService","i2","Router","i3","HttpClient","selectors","decls","vars","consts","template","ServicesComponent_Template","rf","ctx","ServicesComponent_Template_button_click_4_listener","ServicesComponent_Template_input_change_19_listener","$event","ServicesComponent_div_20_Template","ServicesComponent_div_21_Template","ServicesComponent_div_22_Template","ServicesComponent_div_23_Template","ServicesComponent_div_27_Template","ServicesComponent_table_28_Template","ServicesComponent_div_29_Template","ServicesComponent_Template_button_click_31_listener"],"sources":["/home/feliban26/estudio_angular/proyecto_reservas/frontend/src/app/components/admin/services/services.component.ts","/home/feliban26/estudio_angular/proyecto_reservas/frontend/src/app/components/admin/services/services.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ServiceService, Service } from '../../../services/service.service';\nimport { HttpClient, HttpHeaders, HttpEventType } from '@angular/common/http';\n\ninterface FileItem {\n  file: File;\n  id: string;\n}\n\ninterface UploadResult {\n  summary: {\n    total_files: number;\n    total_processed: number;\n    completed: number;\n    skipped: number;\n    failed: number;\n  };\n  details: Array<{\n    filename: string;\n    completed: number;\n    skipped: number;\n    failed: number;\n    total: number;\n    errors?: string[];\n  }>;\n}\n\n@Component({\n  selector: 'app-services',\n  templateUrl: './services.component.html',\n  styleUrls: ['./services.component.css']\n})\nexport class ServicesComponent implements OnInit {\n  services: Service[] = [];\n  loading = false;\n  error = '';\n  \n  // Manejo de archivos\n  selectedFiles: FileItem[] = [];\n  uploading = false;\n  progress = 0;\n  uploadResult: UploadResult | null = null;\n\n  constructor(\n    private serviceService: ServiceService,\n    private router: Router,\n    private http: HttpClient\n  ) {}\n\n  ngOnInit(): void {\n    this.fetchServices();\n  }\n\n  fetchServices(): void {\n    this.loading = true;\n    this.error = '';\n    this.serviceService.getAll().subscribe({\n      next: data => {\n        this.services = data;\n        this.loading = false;\n      },\n      error: (err) => {\n        this.error = 'Error al cargar los servicios';\n        this.loading = false;\n        console.error('Error:', err);\n      }\n    });\n  }\n\n  editService(id: number): void {\n    this.router.navigate(['/admin/services/edit', id]);\n  }\n\n  deleteService(id: number): void {\n    if (confirm('¬øSeguro que quieres eliminar este servicio?')) {\n      this.serviceService.delete(id).subscribe({\n        next: () => {\n          this.fetchServices();\n          alert('Servicio eliminado correctamente');\n        },\n        error: (err) => {\n          alert('Error al eliminar el servicio');\n          console.error('Error:', err);\n        }\n      });\n    }\n  }\n\n  createService(): void {\n    this.router.navigate(['/admin/services/new']);\n  }\n\n  back(): void {\n    this.router.navigate(['/admin']);\n  }\n\n  // --- Manejo de archivos Excel ---\n  \n  onFileSelected(event: any): void {\n    const files: FileList = event.target.files;\n    if (!files || files.length === 0) return;\n\n    const newFiles = Array.from(files);\n    \n    // Validar l√≠mite de 5 archivos total\n    if (this.selectedFiles.length + newFiles.length > 5) {\n      alert('Solo puedes seleccionar hasta 5 archivos en total.');\n      event.target.value = ''; // Limpiar input\n      return;\n    }\n\n    // Validar extensi√≥n\n    const invalidFiles = newFiles.filter(f => \n      !f.name.toLowerCase().endsWith('.xls') && \n      !f.name.toLowerCase().endsWith('.xlsx')\n    );\n    if (invalidFiles.length > 0) {\n      alert(`Archivos con formato inv√°lido: ${invalidFiles.map(f => f.name).join(', ')}`);\n      event.target.value = '';\n      return;\n    }\n\n    // Validar tama√±o (5 MB por archivo)\n    const oversized = newFiles.filter(f => f.size > 5 * 1024 * 1024);\n    if (oversized.length > 0) {\n      alert(`Archivos que superan 5 MB: ${oversized.map(f => f.name).join(', ')}`);\n      event.target.value = '';\n      return;\n    }\n\n    // Validar duplicados\n    const duplicates = newFiles.filter(newFile => \n      this.selectedFiles.some(existing => existing.file.name === newFile.name)\n    );\n    if (duplicates.length > 0) {\n      alert(`Archivos ya seleccionados: ${duplicates.map(f => f.name).join(', ')}`);\n      event.target.value = '';\n      return;\n    }\n\n    // Agregar archivos v√°lidos\n    newFiles.forEach(file => {\n      this.selectedFiles.push({\n        file: file,\n        id: this.generateId()\n      });\n    });\n\n    event.target.value = ''; // Limpiar input para permitir reselecci√≥n\n  }\n\n  removeFile(id: string): void {\n    this.selectedFiles = this.selectedFiles.filter(item => item.id !== id);\n  }\n\n  clearAllFiles(): void {\n    this.selectedFiles = [];\n    this.uploadResult = null;\n  }\n\n  uploadFiles(): void {\n    if (this.selectedFiles.length === 0) return;\n\n    this.uploading = true;\n    this.progress = 0;\n    this.uploadResult = null;\n    this.error = '';\n\n    const formData = new FormData();\n    this.selectedFiles.forEach(item => {\n      formData.append('files', item.file);\n    });\n\n    const token = localStorage.getItem('access_token');\n    const headers = new HttpHeaders({ Authorization: `Bearer ${token}` });\n\n    this.http.post<UploadResult>('http://localhost:8000/upload/excel', formData, {\n      headers,\n      observe: 'events',\n      reportProgress: true\n    }).subscribe({\n      next: event => {\n        if (event.type === HttpEventType.UploadProgress && event.total) {\n          this.progress = Math.round((event.loaded / event.total) * 100);\n        } else if (event.type === HttpEventType.Response) {\n          this.uploadResult = event.body;\n          this.uploading = false;\n          this.progress = 100;\n          this.fetchServices(); // Recargar lista de servicios\n          \n          // Mostrar mensaje de √©xito\n          if (this.uploadResult) {\n            const { completed, failed } = this.uploadResult.summary;\n            if (failed === 0) {\n              alert(`‚úì Carga completada: ${completed} servicios agregados`);\n            } else {\n              alert(`Carga finalizada: ${completed} exitosos, ${failed} fallidos`);\n            }\n          }\n        }\n      },\n      error: err => {\n        this.uploading = false;\n        this.progress = 0;\n        const errorMsg = err.error?.detail || 'Error desconocido al subir archivos';\n        this.error = errorMsg;\n        alert(`Error: ${errorMsg}`);\n        console.error('Error upload:', err);\n      }\n    });\n  }\n\n  getFileSize(bytes: number): string {\n    if (bytes < 1024) return bytes + ' B';\n    if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';\n    return (bytes / (1024 * 1024)).toFixed(1) + ' MB';\n  }\n\n  getSuccessRate(detail: any): number {\n    const total = detail.completed + detail.skipped + detail.failed;\n    return total > 0 ? Math.round((detail.completed / total) * 100) : 0;\n  }\n\n  private generateId(): string {\n    return Math.random().toString(36).substr(2, 9) + Date.now();\n  }\n}","<div class=\"admin-container\">\n  <div class=\"header-section\">\n    <h2>Gesti√≥n de Servicios</h2>\n    <button class=\"btn-primary\" (click)=\"createService()\">\n      <span class=\"icon\">+</span> Crear nuevo servicio\n    </button>\n  </div>\n\n  <!-- Secci√≥n de carga Excel -->\n  <div class=\"upload-section\">\n    <div class=\"upload-header\">\n      <h3>üìä Carga Masiva desde Excel</h3>\n      <p class=\"hint\">Formatos: .xls, .xlsx | M√°ximo: 5 archivos de 5MB c/u</p>\n    </div>\n\n    <!-- Input de archivos -->\n    <div class=\"file-input-container\">\n      <label for=\"file-input\" class=\"file-label\">\n        <span class=\"icon\">üìÅ</span>\n        Seleccionar archivos\n      </label>\n      <input \n        id=\"file-input\"\n        type=\"file\" \n        (change)=\"onFileSelected($event)\" \n        accept=\".xls,.xlsx\" \n        multiple\n        [disabled]=\"uploading\"\n      />\n    </div>\n\n    <!-- Lista de archivos seleccionados -->\n    <div class=\"selected-files\" *ngIf=\"selectedFiles.length > 0\">\n      <div class=\"files-header\">\n        <h4>Archivos seleccionados ({{ selectedFiles.length }}/5)</h4>\n        <button \n          class=\"btn-clear\" \n          (click)=\"clearAllFiles()\"\n          [disabled]=\"uploading\"\n        >\n          Limpiar todo\n        </button>\n      </div>\n      \n      <div class=\"file-list\">\n        <div class=\"file-item\" *ngFor=\"let item of selectedFiles\">\n          <div class=\"file-info\">\n            <span class=\"file-icon\">üìÑ</span>\n            <div class=\"file-details\">\n              <span class=\"file-name\">{{ item.file.name }}</span>\n              <span class=\"file-size\">{{ getFileSize(item.file.size) }}</span>\n            </div>\n          </div>\n          <button \n            class=\"btn-remove\" \n            (click)=\"removeFile(item.id)\"\n            [disabled]=\"uploading\"\n            title=\"Eliminar archivo\"\n          >\n            ‚úï\n          </button>\n        </div>\n      </div>\n\n      <!-- Bot√≥n de subida -->\n      <button \n        class=\"btn-upload\" \n        (click)=\"uploadFiles()\" \n        [disabled]=\"selectedFiles.length === 0 || uploading\"\n      >\n        <span class=\"icon\">{{ uploading ? '‚è≥' : '‚¨ÜÔ∏è' }}</span>\n        {{ uploading ? 'Subiendo...' : 'Subir archivos' }}\n      </button>\n    </div>\n\n    <!-- Barra de progreso -->\n    <div class=\"progress-section\" *ngIf=\"uploading || progress === 100\">\n      <div class=\"progress-label\">\n        <span>Progreso de carga</span>\n        <span class=\"progress-percent\">{{ progress }}%</span>\n      </div>\n      <div class=\"progress-container\">\n        <div class=\"progress-bar\" [style.width.%]=\"progress\"></div>\n      </div>\n    </div>\n\n    <!-- Resultados de la carga -->\n    <div class=\"upload-results\" *ngIf=\"uploadResult\">\n      <div class=\"results-header\">\n        <h4>‚úì Resultados de la Carga</h4>\n      </div>\n\n      <!-- Resumen global -->\n      <div class=\"summary-card\">\n        <div class=\"summary-item\">\n          <span class=\"label\">Total archivos:</span>\n          <span class=\"value\">{{ uploadResult.summary.total_files }}</span>\n        </div>\n        <div class=\"summary-item\">\n          <span class=\"label\">Registros procesados:</span>\n          <span class=\"value\">{{ uploadResult.summary.total_processed }}</span>\n        </div>\n        <div class=\"summary-stats\">\n          <div class=\"stat success\">\n            <span class=\"stat-icon\">‚úì</span>\n            <span class=\"stat-value\">{{ uploadResult.summary.completed }}</span>\n            <span class=\"stat-label\">Completados</span>\n          </div>\n          <div class=\"stat warning\">\n            <span class=\"stat-icon\">‚äò</span>\n            <span class=\"stat-value\">{{ uploadResult.summary.skipped }}</span>\n            <span class=\"stat-label\">Omitidos</span>\n          </div>\n          <div class=\"stat error\">\n            <span class=\"stat-icon\">‚úï</span>\n            <span class=\"stat-value\">{{ uploadResult.summary.failed }}</span>\n            <span class=\"stat-label\">Fallidos</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Detalle por archivo -->\n      <div class=\"file-results\">\n        <h5>Detalle por archivo</h5>\n        <div class=\"file-result-card\" *ngFor=\"let detail of uploadResult.details\">\n          <div class=\"file-result-header\">\n            <span class=\"filename\">üìÑ {{ detail.filename }}</span>\n            <span class=\"success-rate\" [class.low]=\"getSuccessRate(detail) < 50\">\n              {{ getSuccessRate(detail) }}% √©xito\n            </span>\n          </div>\n          \n          <div class=\"file-result-stats\">\n            <span class=\"stat-item success\">‚úì {{ detail.completed }}</span>\n            <span class=\"stat-item warning\">‚äò {{ detail.skipped }}</span>\n            <span class=\"stat-item error\">‚úï {{ detail.failed }}</span>\n          </div>\n\n          <!-- Barra de progreso por archivo -->\n          <div class=\"file-progress-bar\">\n            <div \n              class=\"bar completed\" \n              [style.width.%]=\"(detail.completed / detail.total * 100)\"\n              [title]=\"'Completados: ' + detail.completed\"\n            ></div>\n            <div \n              class=\"bar skipped\" \n              [style.width.%]=\"(detail.skipped / detail.total * 100)\"\n              [title]=\"'Omitidos: ' + detail.skipped\"\n            ></div>\n            <div \n              class=\"bar failed\" \n              [style.width.%]=\"(detail.failed / detail.total * 100)\"\n              [title]=\"'Fallidos: ' + detail.failed\"\n            ></div>\n          </div>\n\n          <!-- Mostrar errores si existen -->\n          <div class=\"errors-section\" *ngIf=\"detail.errors && detail.errors.length > 0\">\n            <details>\n              <summary>Ver errores ({{ detail.errors.length }})</summary>\n              <ul class=\"error-list\">\n                <li *ngFor=\"let error of detail.errors\">{{ error }}</li>\n              </ul>\n            </details>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Mensaje de error -->\n    <div class=\"error-message\" *ngIf=\"error\">\n      <span class=\"error-icon\">‚ö†Ô∏è</span>\n      {{ error }}\n    </div>\n  </div>\n\n  <!-- Tabla de servicios -->\n  <div class=\"services-section\">\n    <h3>Servicios Registrados</h3>\n    \n    <div *ngIf=\"loading\" class=\"loading-spinner\">\n      <div class=\"spinner\"></div>\n      <span>Cargando servicios...</span>\n    </div>\n\n    <table *ngIf=\"!loading && services.length > 0\" class=\"service-table\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Nombre</th>\n          <th>Duraci√≥n</th>\n          <th>Precio</th>\n          <th>Estado</th>\n          <th>Acciones</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let s of services\">\n          <td>{{ s.id_service }}</td>\n          <td>{{ s.name }}</td>\n          <td>{{ s.duration_minutes }} min</td>\n          <td>{{ s.price | currency:'COP':'symbol-narrow':'1.0-0' }}</td>\n          <td>\n            <span class=\"badge\" [class.active]=\"s.state\" [class.inactive]=\"!s.state\">\n              {{ s.state ? 'Activo' : 'Inactivo' }}\n            </span>\n          </td>\n          <td class=\"actions\">\n            <button class=\"btn-edit\" (click)=\"editService(s.id_service!)\" title=\"Editar\">\n              ‚úèÔ∏è\n            </button>\n            <button class=\"btn-delete\" (click)=\"deleteService(s.id_service!)\" title=\"Eliminar\">\n              üóëÔ∏è\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <div *ngIf=\"!loading && services.length === 0\" class=\"empty-state\">\n      <span class=\"empty-icon\">üìã</span>\n      <p>No hay servicios registrados</p>\n      <button class=\"btn-primary\" (click)=\"createService()\">Crear primer servicio</button>\n    </div>\n  </div>\n\n  <!-- Bot√≥n volver -->\n  <div class=\"footer-actions\">\n    <button type=\"button\" class=\"btn-back\" (click)=\"back()\">\n      ‚Üê Volver al panel\n    </button>\n  </div>\n</div>"],"mappings":"AAGA,SAAqBA,WAAW,EAAEC,aAAa,QAAQ,sBAAsB;;;;;;;;;IC0CrEC,EAAA,CAAAC,cAAA,cAA0D;IAE9BD,EAAA,CAAAE,MAAA,mBAAE;IAAAF,EAAA,CAAAG,YAAA,EAAO;IACjCH,EAAA,CAAAC,cAAA,cAA0B;IACAD,EAAA,CAAAE,MAAA,GAAoB;IAAAF,EAAA,CAAAG,YAAA,EAAO;IACnDH,EAAA,CAAAC,cAAA,eAAwB;IAAAD,EAAA,CAAAE,MAAA,GAAiC;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAGpEH,EAAA,CAAAC,cAAA,iBAKC;IAHCD,EAAA,CAAAI,UAAA,mBAAAC,gEAAA;MAAA,MAAAC,WAAA,GAAAN,EAAA,CAAAO,aAAA,CAAAC,IAAA;MAAA,MAAAC,OAAA,GAAAH,WAAA,CAAAI,SAAA;MAAA,MAAAC,MAAA,GAAAX,EAAA,CAAAY,aAAA;MAAA,OAASZ,EAAA,CAAAa,WAAA,CAAAF,MAAA,CAAAG,UAAA,CAAAL,OAAA,CAAAM,EAAA,CAAmB;IAAA,EAAC;IAI7Bf,EAAA,CAAAE,MAAA,gBACF;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;;IAXmBH,EAAA,CAAAgB,SAAA,GAAoB;IAApBhB,EAAA,CAAAiB,iBAAA,CAAAR,OAAA,CAAAS,IAAA,CAAAC,IAAA,CAAoB;IACpBnB,EAAA,CAAAgB,SAAA,GAAiC;IAAjChB,EAAA,CAAAiB,iBAAA,CAAAG,MAAA,CAAAC,WAAA,CAAAZ,OAAA,CAAAS,IAAA,CAAAI,IAAA,EAAiC;IAM3DtB,EAAA,CAAAgB,SAAA,GAAsB;IAAtBhB,EAAA,CAAAuB,UAAA,aAAAH,MAAA,CAAAI,SAAA,CAAsB;;;;;;IAxB9BxB,EAAA,CAAAC,cAAA,cAA6D;IAErDD,EAAA,CAAAE,MAAA,GAAqD;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAC9DH,EAAA,CAAAC,cAAA,iBAIC;IAFCD,EAAA,CAAAI,UAAA,mBAAAqB,0DAAA;MAAAzB,EAAA,CAAAO,aAAA,CAAAmB,IAAA;MAAA,MAAAC,OAAA,GAAA3B,EAAA,CAAAY,aAAA;MAAA,OAASZ,EAAA,CAAAa,WAAA,CAAAc,OAAA,CAAAC,aAAA,EAAe;IAAA,EAAC;IAGzB5B,EAAA,CAAAE,MAAA,qBACF;IAAAF,EAAA,CAAAG,YAAA,EAAS;IAGXH,EAAA,CAAAC,cAAA,cAAuB;IACrBD,EAAA,CAAA6B,UAAA,IAAAC,uCAAA,mBAgBM;IACR9B,EAAA,CAAAG,YAAA,EAAM;IAGNH,EAAA,CAAAC,cAAA,iBAIC;IAFCD,EAAA,CAAAI,UAAA,mBAAA2B,0DAAA;MAAA/B,EAAA,CAAAO,aAAA,CAAAmB,IAAA;MAAA,MAAAM,OAAA,GAAAhC,EAAA,CAAAY,aAAA;MAAA,OAASZ,EAAA,CAAAa,WAAA,CAAAmB,OAAA,CAAAC,WAAA,EAAa;IAAA,EAAC;IAGvBjC,EAAA,CAAAC,cAAA,cAAmB;IAAAD,EAAA,CAAAE,MAAA,IAA4B;IAAAF,EAAA,CAAAG,YAAA,EAAO;IACtDH,EAAA,CAAAE,MAAA,IACF;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IAtCHH,EAAA,CAAAgB,SAAA,GAAqD;IAArDhB,EAAA,CAAAkC,kBAAA,6BAAAC,MAAA,CAAAC,aAAA,CAAAC,MAAA,QAAqD;IAIvDrC,EAAA,CAAAgB,SAAA,GAAsB;IAAtBhB,EAAA,CAAAuB,UAAA,aAAAY,MAAA,CAAAX,SAAA,CAAsB;IAOgBxB,EAAA,CAAAgB,SAAA,GAAgB;IAAhBhB,EAAA,CAAAuB,UAAA,YAAAY,MAAA,CAAAC,aAAA,CAAgB;IAuBxDpC,EAAA,CAAAgB,SAAA,GAAoD;IAApDhB,EAAA,CAAAuB,UAAA,aAAAY,MAAA,CAAAC,aAAA,CAAAC,MAAA,UAAAF,MAAA,CAAAX,SAAA,CAAoD;IAEjCxB,EAAA,CAAAgB,SAAA,GAA4B;IAA5BhB,EAAA,CAAAiB,iBAAA,CAAAkB,MAAA,CAAAX,SAAA,6BAA4B;IAC/CxB,EAAA,CAAAgB,SAAA,GACF;IADEhB,EAAA,CAAAkC,kBAAA,MAAAC,MAAA,CAAAX,SAAA,yCACF;;;;;IAIFxB,EAAA,CAAAC,cAAA,cAAoE;IAE1DD,EAAA,CAAAE,MAAA,wBAAiB;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAC9BH,EAAA,CAAAC,cAAA,eAA+B;IAAAD,EAAA,CAAAE,MAAA,GAAe;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAEvDH,EAAA,CAAAC,cAAA,cAAgC;IAC9BD,EAAA,CAAAsC,SAAA,cAA2D;IAC7DtC,EAAA,CAAAG,YAAA,EAAM;;;;IAJ2BH,EAAA,CAAAgB,SAAA,GAAe;IAAfhB,EAAA,CAAAkC,kBAAA,KAAAK,MAAA,CAAAC,QAAA,MAAe;IAGpBxC,EAAA,CAAAgB,SAAA,GAA0B;IAA1BhB,EAAA,CAAAyC,WAAA,UAAAF,MAAA,CAAAC,QAAA,MAA0B;;;;;IAgF5CxC,EAAA,CAAAC,cAAA,SAAwC;IAAAD,EAAA,CAAAE,MAAA,GAAW;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAAhBH,EAAA,CAAAgB,SAAA,GAAW;IAAXhB,EAAA,CAAAiB,iBAAA,CAAAyB,SAAA,CAAW;;;;;IAJzD1C,EAAA,CAAAC,cAAA,cAA8E;IAEjED,EAAA,CAAAE,MAAA,GAAwC;IAAAF,EAAA,CAAAG,YAAA,EAAU;IAC3DH,EAAA,CAAAC,cAAA,aAAuB;IACrBD,EAAA,CAAA6B,UAAA,IAAAc,oDAAA,iBAAwD;IAC1D3C,EAAA,CAAAG,YAAA,EAAK;;;;IAHIH,EAAA,CAAAgB,SAAA,GAAwC;IAAxChB,EAAA,CAAAkC,kBAAA,kBAAAU,UAAA,CAAAC,MAAA,CAAAR,MAAA,MAAwC;IAEzBrC,EAAA,CAAAgB,SAAA,GAAgB;IAAhBhB,EAAA,CAAAuB,UAAA,YAAAqB,UAAA,CAAAC,MAAA,CAAgB;;;;;IAtC9C7C,EAAA,CAAAC,cAAA,cAA0E;IAE/CD,EAAA,CAAAE,MAAA,GAAwB;IAAAF,EAAA,CAAAG,YAAA,EAAO;IACtDH,EAAA,CAAAC,cAAA,eAAqE;IACnED,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAGTH,EAAA,CAAAC,cAAA,cAA+B;IACGD,EAAA,CAAAE,MAAA,GAAwB;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAC/DH,EAAA,CAAAC,cAAA,eAAgC;IAAAD,EAAA,CAAAE,MAAA,IAAsB;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAC7DH,EAAA,CAAAC,cAAA,gBAA8B;IAAAD,EAAA,CAAAE,MAAA,IAAqB;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAI5DH,EAAA,CAAAC,cAAA,eAA+B;IAC7BD,EAAA,CAAAsC,SAAA,eAIO;IAWTtC,EAAA,CAAAG,YAAA,EAAM;IAGNH,EAAA,CAAA6B,UAAA,KAAAiB,+CAAA,kBAOM;IACR9C,EAAA,CAAAG,YAAA,EAAM;;;;;IAxCqBH,EAAA,CAAAgB,SAAA,GAAwB;IAAxBhB,EAAA,CAAAkC,kBAAA,kBAAAU,UAAA,CAAAG,QAAA,KAAwB;IACpB/C,EAAA,CAAAgB,SAAA,GAAyC;IAAzChB,EAAA,CAAAgD,WAAA,QAAAC,OAAA,CAAAC,cAAA,CAAAN,UAAA,OAAyC;IAClE5C,EAAA,CAAAgB,SAAA,GACF;IADEhB,EAAA,CAAAkC,kBAAA,MAAAe,OAAA,CAAAC,cAAA,CAAAN,UAAA,mBACF;IAIgC5C,EAAA,CAAAgB,SAAA,GAAwB;IAAxBhB,EAAA,CAAAkC,kBAAA,YAAAU,UAAA,CAAAO,SAAA,KAAwB;IACxBnD,EAAA,CAAAgB,SAAA,GAAsB;IAAtBhB,EAAA,CAAAkC,kBAAA,YAAAU,UAAA,CAAAQ,OAAA,KAAsB;IACxBpD,EAAA,CAAAgB,SAAA,GAAqB;IAArBhB,EAAA,CAAAkC,kBAAA,YAAAU,UAAA,CAAAS,MAAA,KAAqB;IAOjDrD,EAAA,CAAAgB,SAAA,GAAyD;IAAzDhB,EAAA,CAAAyC,WAAA,UAAAG,UAAA,CAAAO,SAAA,GAAAP,UAAA,CAAAU,KAAA,YAAyD;IACzDtD,EAAA,CAAAuB,UAAA,4BAAAqB,UAAA,CAAAO,SAAA,CAA4C;IAI5CnD,EAAA,CAAAgB,SAAA,GAAuD;IAAvDhB,EAAA,CAAAyC,WAAA,UAAAG,UAAA,CAAAQ,OAAA,GAAAR,UAAA,CAAAU,KAAA,YAAuD;IACvDtD,EAAA,CAAAuB,UAAA,yBAAAqB,UAAA,CAAAQ,OAAA,CAAuC;IAIvCpD,EAAA,CAAAgB,SAAA,GAAsD;IAAtDhB,EAAA,CAAAyC,WAAA,UAAAG,UAAA,CAAAS,MAAA,GAAAT,UAAA,CAAAU,KAAA,YAAsD;IACtDtD,EAAA,CAAAuB,UAAA,yBAAAqB,UAAA,CAAAS,MAAA,CAAsC;IAKbrD,EAAA,CAAAgB,SAAA,GAA+C;IAA/ChB,EAAA,CAAAuB,UAAA,SAAAqB,UAAA,CAAAC,MAAA,IAAAD,UAAA,CAAAC,MAAA,CAAAR,MAAA,KAA+C;;;;;IAvElFrC,EAAA,CAAAC,cAAA,cAAiD;IAEzCD,EAAA,CAAAE,MAAA,oCAAwB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAInCH,EAAA,CAAAC,cAAA,cAA0B;IAEFD,EAAA,CAAAE,MAAA,sBAAe;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAC1CH,EAAA,CAAAC,cAAA,eAAoB;IAAAD,EAAA,CAAAE,MAAA,GAAsC;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAEnEH,EAAA,CAAAC,cAAA,eAA0B;IACJD,EAAA,CAAAE,MAAA,6BAAqB;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAChDH,EAAA,CAAAC,cAAA,gBAAoB;IAAAD,EAAA,CAAAE,MAAA,IAA0C;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAEvEH,EAAA,CAAAC,cAAA,eAA2B;IAECD,EAAA,CAAAE,MAAA,cAAC;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAChCH,EAAA,CAAAC,cAAA,gBAAyB;IAAAD,EAAA,CAAAE,MAAA,IAAoC;IAAAF,EAAA,CAAAG,YAAA,EAAO;IACpEH,EAAA,CAAAC,cAAA,gBAAyB;IAAAD,EAAA,CAAAE,MAAA,mBAAW;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAE7CH,EAAA,CAAAC,cAAA,eAA0B;IACAD,EAAA,CAAAE,MAAA,cAAC;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAChCH,EAAA,CAAAC,cAAA,gBAAyB;IAAAD,EAAA,CAAAE,MAAA,IAAkC;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAClEH,EAAA,CAAAC,cAAA,gBAAyB;IAAAD,EAAA,CAAAE,MAAA,gBAAQ;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAE1CH,EAAA,CAAAC,cAAA,eAAwB;IACED,EAAA,CAAAE,MAAA,cAAC;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAChCH,EAAA,CAAAC,cAAA,gBAAyB;IAAAD,EAAA,CAAAE,MAAA,IAAiC;IAAAF,EAAA,CAAAG,YAAA,EAAO;IACjEH,EAAA,CAAAC,cAAA,gBAAyB;IAAAD,EAAA,CAAAE,MAAA,gBAAQ;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAM9CH,EAAA,CAAAC,cAAA,eAA0B;IACpBD,EAAA,CAAAE,MAAA,2BAAmB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAC5BH,EAAA,CAAA6B,UAAA,KAAA0B,wCAAA,oBA0CM;IACRvD,EAAA,CAAAG,YAAA,EAAM;;;;IAvEkBH,EAAA,CAAAgB,SAAA,GAAsC;IAAtChB,EAAA,CAAAiB,iBAAA,CAAAuC,MAAA,CAAAC,YAAA,CAAAC,OAAA,CAAAC,WAAA,CAAsC;IAItC3D,EAAA,CAAAgB,SAAA,GAA0C;IAA1ChB,EAAA,CAAAiB,iBAAA,CAAAuC,MAAA,CAAAC,YAAA,CAAAC,OAAA,CAAAE,eAAA,CAA0C;IAKnC5D,EAAA,CAAAgB,SAAA,GAAoC;IAApChB,EAAA,CAAAiB,iBAAA,CAAAuC,MAAA,CAAAC,YAAA,CAAAC,OAAA,CAAAP,SAAA,CAAoC;IAKpCnD,EAAA,CAAAgB,SAAA,GAAkC;IAAlChB,EAAA,CAAAiB,iBAAA,CAAAuC,MAAA,CAAAC,YAAA,CAAAC,OAAA,CAAAN,OAAA,CAAkC;IAKlCpD,EAAA,CAAAgB,SAAA,GAAiC;IAAjChB,EAAA,CAAAiB,iBAAA,CAAAuC,MAAA,CAAAC,YAAA,CAAAC,OAAA,CAAAL,MAAA,CAAiC;IASbrD,EAAA,CAAAgB,SAAA,GAAuB;IAAvBhB,EAAA,CAAAuB,UAAA,YAAAiC,MAAA,CAAAC,YAAA,CAAAI,OAAA,CAAuB;;;;;IA+C5E7D,EAAA,CAAAC,cAAA,cAAyC;IACdD,EAAA,CAAAE,MAAA,mBAAE;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAClCH,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;IADJH,EAAA,CAAAgB,SAAA,GACF;IADEhB,EAAA,CAAAkC,kBAAA,MAAA4B,MAAA,CAAAC,KAAA,MACF;;;;;IAOA/D,EAAA,CAAAC,cAAA,cAA6C;IAC3CD,EAAA,CAAAsC,SAAA,cAA2B;IAC3BtC,EAAA,CAAAC,cAAA,WAAM;IAAAD,EAAA,CAAAE,MAAA,4BAAqB;IAAAF,EAAA,CAAAG,YAAA,EAAO;;;;;;IAehCH,EAAA,CAAAC,cAAA,SAA+B;IACzBD,EAAA,CAAAE,MAAA,GAAkB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAC3BH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,GAAY;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACrBH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,GAA4B;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACrCH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,GAAsD;;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAC/DH,EAAA,CAAAC,cAAA,UAAI;IAEAD,EAAA,CAAAE,MAAA,IACF;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAETH,EAAA,CAAAC,cAAA,cAAoB;IACOD,EAAA,CAAAI,UAAA,mBAAA4D,mEAAA;MAAA,MAAA1D,WAAA,GAAAN,EAAA,CAAAO,aAAA,CAAA0D,IAAA;MAAA,MAAAC,KAAA,GAAA5D,WAAA,CAAAI,SAAA;MAAA,MAAAyD,OAAA,GAAAnE,EAAA,CAAAY,aAAA;MAAA,OAASZ,EAAA,CAAAa,WAAA,CAAAsD,OAAA,CAAAC,WAAA,CAAAF,KAAA,CAAAG,UAAA,CAA0B;IAAA,EAAC;IAC3DrE,EAAA,CAAAE,MAAA,sBACF;IAAAF,EAAA,CAAAG,YAAA,EAAS;IACTH,EAAA,CAAAC,cAAA,kBAAmF;IAAxDD,EAAA,CAAAI,UAAA,mBAAAkE,mEAAA;MAAA,MAAAhE,WAAA,GAAAN,EAAA,CAAAO,aAAA,CAAA0D,IAAA;MAAA,MAAAC,KAAA,GAAA5D,WAAA,CAAAI,SAAA;MAAA,MAAA6D,OAAA,GAAAvE,EAAA,CAAAY,aAAA;MAAA,OAASZ,EAAA,CAAAa,WAAA,CAAA0D,OAAA,CAAAC,aAAA,CAAAN,KAAA,CAAAG,UAAA,CAA4B;IAAA,EAAC;IAC/DrE,EAAA,CAAAE,MAAA,4BACF;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IAfPH,EAAA,CAAAgB,SAAA,GAAkB;IAAlBhB,EAAA,CAAAiB,iBAAA,CAAAiD,KAAA,CAAAG,UAAA,CAAkB;IAClBrE,EAAA,CAAAgB,SAAA,GAAY;IAAZhB,EAAA,CAAAiB,iBAAA,CAAAiD,KAAA,CAAA/C,IAAA,CAAY;IACZnB,EAAA,CAAAgB,SAAA,GAA4B;IAA5BhB,EAAA,CAAAkC,kBAAA,KAAAgC,KAAA,CAAAO,gBAAA,SAA4B;IAC5BzE,EAAA,CAAAgB,SAAA,GAAsD;IAAtDhB,EAAA,CAAAiB,iBAAA,CAAAjB,EAAA,CAAA0E,WAAA,OAAAR,KAAA,CAAAS,KAAA,mCAAsD;IAEpC3E,EAAA,CAAAgB,SAAA,GAAwB;IAAxBhB,EAAA,CAAAgD,WAAA,WAAAkB,KAAA,CAAAU,KAAA,CAAwB,cAAAV,KAAA,CAAAU,KAAA;IAC1C5E,EAAA,CAAAgB,SAAA,GACF;IADEhB,EAAA,CAAAkC,kBAAA,MAAAgC,KAAA,CAAAU,KAAA,8BACF;;;;;IApBR5E,EAAA,CAAAC,cAAA,gBAAqE;IAG3DD,EAAA,CAAAE,MAAA,SAAE;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACXH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,aAAM;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACfH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,oBAAQ;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACjBH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,cAAM;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACfH,EAAA,CAAAC,cAAA,UAAI;IAAAD,EAAA,CAAAE,MAAA,cAAM;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACfH,EAAA,CAAAC,cAAA,UAAI;IAAAD,EAAA,CAAAE,MAAA,gBAAQ;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAGrBH,EAAA,CAAAC,cAAA,aAAO;IACLD,EAAA,CAAA6B,UAAA,KAAAgD,yCAAA,mBAkBK;IACP7E,EAAA,CAAAG,YAAA,EAAQ;;;;IAnBYH,EAAA,CAAAgB,SAAA,IAAW;IAAXhB,EAAA,CAAAuB,UAAA,YAAAuD,MAAA,CAAAC,QAAA,CAAW;;;;;;IAsBjC/E,EAAA,CAAAC,cAAA,cAAmE;IACxCD,EAAA,CAAAE,MAAA,mBAAE;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAClCH,EAAA,CAAAC,cAAA,QAAG;IAAAD,EAAA,CAAAE,MAAA,mCAA4B;IAAAF,EAAA,CAAAG,YAAA,EAAI;IACnCH,EAAA,CAAAC,cAAA,gBAAsD;IAA1BD,EAAA,CAAAI,UAAA,mBAAA4E,0DAAA;MAAAhF,EAAA,CAAAO,aAAA,CAAA0E,IAAA;MAAA,MAAAC,OAAA,GAAAlF,EAAA,CAAAY,aAAA;MAAA,OAASZ,EAAA,CAAAa,WAAA,CAAAqE,OAAA,CAAAC,aAAA,EAAe;IAAA,EAAC;IAACnF,EAAA,CAAAE,MAAA,4BAAqB;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;AD9L1F,OAAM,MAAOiF,iBAAiB;EAW5BC,YACUC,cAA8B,EAC9BC,MAAc,EACdC,IAAgB;IAFhB,KAAAF,cAAc,GAAdA,cAAc;IACd,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,IAAI,GAAJA,IAAI;IAbd,KAAAT,QAAQ,GAAc,EAAE;IACxB,KAAAU,OAAO,GAAG,KAAK;IACf,KAAA1B,KAAK,GAAG,EAAE;IAEV;IACA,KAAA3B,aAAa,GAAe,EAAE;IAC9B,KAAAZ,SAAS,GAAG,KAAK;IACjB,KAAAgB,QAAQ,GAAG,CAAC;IACZ,KAAAiB,YAAY,GAAwB,IAAI;EAMrC;EAEHiC,QAAQA,CAAA;IACN,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAA,aAAaA,CAAA;IACX,IAAI,CAACF,OAAO,GAAG,IAAI;IACnB,IAAI,CAAC1B,KAAK,GAAG,EAAE;IACf,IAAI,CAACuB,cAAc,CAACM,MAAM,EAAE,CAACC,SAAS,CAAC;MACrCC,IAAI,EAAEC,IAAI,IAAG;QACX,IAAI,CAAChB,QAAQ,GAAGgB,IAAI;QACpB,IAAI,CAACN,OAAO,GAAG,KAAK;MACtB,CAAC;MACD1B,KAAK,EAAGiC,GAAG,IAAI;QACb,IAAI,CAACjC,KAAK,GAAG,+BAA+B;QAC5C,IAAI,CAAC0B,OAAO,GAAG,KAAK;QACpBQ,OAAO,CAAClC,KAAK,CAAC,QAAQ,EAAEiC,GAAG,CAAC;MAC9B;KACD,CAAC;EACJ;EAEA5B,WAAWA,CAACrD,EAAU;IACpB,IAAI,CAACwE,MAAM,CAACW,QAAQ,CAAC,CAAC,sBAAsB,EAAEnF,EAAE,CAAC,CAAC;EACpD;EAEAyD,aAAaA,CAACzD,EAAU;IACtB,IAAIoF,OAAO,CAAC,6CAA6C,CAAC,EAAE;MAC1D,IAAI,CAACb,cAAc,CAACc,MAAM,CAACrF,EAAE,CAAC,CAAC8E,SAAS,CAAC;QACvCC,IAAI,EAAEA,CAAA,KAAK;UACT,IAAI,CAACH,aAAa,EAAE;UACpBU,KAAK,CAAC,kCAAkC,CAAC;QAC3C,CAAC;QACDtC,KAAK,EAAGiC,GAAG,IAAI;UACbK,KAAK,CAAC,+BAA+B,CAAC;UACtCJ,OAAO,CAAClC,KAAK,CAAC,QAAQ,EAAEiC,GAAG,CAAC;QAC9B;OACD,CAAC;;EAEN;EAEAb,aAAaA,CAAA;IACX,IAAI,CAACI,MAAM,CAACW,QAAQ,CAAC,CAAC,qBAAqB,CAAC,CAAC;EAC/C;EAEAI,IAAIA,CAAA;IACF,IAAI,CAACf,MAAM,CAACW,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;EAClC;EAEA;EAEAK,cAAcA,CAACC,KAAU;IACvB,MAAMC,KAAK,GAAaD,KAAK,CAACE,MAAM,CAACD,KAAK;IAC1C,IAAI,CAACA,KAAK,IAAIA,KAAK,CAACpE,MAAM,KAAK,CAAC,EAAE;IAElC,MAAMsE,QAAQ,GAAGC,KAAK,CAACC,IAAI,CAACJ,KAAK,CAAC;IAElC;IACA,IAAI,IAAI,CAACrE,aAAa,CAACC,MAAM,GAAGsE,QAAQ,CAACtE,MAAM,GAAG,CAAC,EAAE;MACnDgE,KAAK,CAAC,oDAAoD,CAAC;MAC3DG,KAAK,CAACE,MAAM,CAACI,KAAK,GAAG,EAAE,CAAC,CAAC;MACzB;;IAGF;IACA,MAAMC,YAAY,GAAGJ,QAAQ,CAACK,MAAM,CAACC,CAAC,IACpC,CAACA,CAAC,CAAC9F,IAAI,CAAC+F,WAAW,EAAE,CAACC,QAAQ,CAAC,MAAM,CAAC,IACtC,CAACF,CAAC,CAAC9F,IAAI,CAAC+F,WAAW,EAAE,CAACC,QAAQ,CAAC,OAAO,CAAC,CACxC;IACD,IAAIJ,YAAY,CAAC1E,MAAM,GAAG,CAAC,EAAE;MAC3BgE,KAAK,CAAC,kCAAkCU,YAAY,CAACK,GAAG,CAACH,CAAC,IAAIA,CAAC,CAAC9F,IAAI,CAAC,CAACkG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;MACnFb,KAAK,CAACE,MAAM,CAACI,KAAK,GAAG,EAAE;MACvB;;IAGF;IACA,MAAMQ,SAAS,GAAGX,QAAQ,CAACK,MAAM,CAACC,CAAC,IAAIA,CAAC,CAAC3F,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;IAChE,IAAIgG,SAAS,CAACjF,MAAM,GAAG,CAAC,EAAE;MACxBgE,KAAK,CAAC,8BAA8BiB,SAAS,CAACF,GAAG,CAACH,CAAC,IAAIA,CAAC,CAAC9F,IAAI,CAAC,CAACkG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;MAC5Eb,KAAK,CAACE,MAAM,CAACI,KAAK,GAAG,EAAE;MACvB;;IAGF;IACA,MAAMS,UAAU,GAAGZ,QAAQ,CAACK,MAAM,CAACQ,OAAO,IACxC,IAAI,CAACpF,aAAa,CAACqF,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACxG,IAAI,CAACC,IAAI,KAAKqG,OAAO,CAACrG,IAAI,CAAC,CACzE;IACD,IAAIoG,UAAU,CAAClF,MAAM,GAAG,CAAC,EAAE;MACzBgE,KAAK,CAAC,8BAA8BkB,UAAU,CAACH,GAAG,CAACH,CAAC,IAAIA,CAAC,CAAC9F,IAAI,CAAC,CAACkG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;MAC7Eb,KAAK,CAACE,MAAM,CAACI,KAAK,GAAG,EAAE;MACvB;;IAGF;IACAH,QAAQ,CAACgB,OAAO,CAACzG,IAAI,IAAG;MACtB,IAAI,CAACkB,aAAa,CAACwF,IAAI,CAAC;QACtB1G,IAAI,EAAEA,IAAI;QACVH,EAAE,EAAE,IAAI,CAAC8G,UAAU;OACpB,CAAC;IACJ,CAAC,CAAC;IAEFrB,KAAK,CAACE,MAAM,CAACI,KAAK,GAAG,EAAE,CAAC,CAAC;EAC3B;;EAEAhG,UAAUA,CAACC,EAAU;IACnB,IAAI,CAACqB,aAAa,GAAG,IAAI,CAACA,aAAa,CAAC4E,MAAM,CAACc,IAAI,IAAIA,IAAI,CAAC/G,EAAE,KAAKA,EAAE,CAAC;EACxE;EAEAa,aAAaA,CAAA;IACX,IAAI,CAACQ,aAAa,GAAG,EAAE;IACvB,IAAI,CAACqB,YAAY,GAAG,IAAI;EAC1B;EAEAxB,WAAWA,CAAA;IACT,IAAI,IAAI,CAACG,aAAa,CAACC,MAAM,KAAK,CAAC,EAAE;IAErC,IAAI,CAACb,SAAS,GAAG,IAAI;IACrB,IAAI,CAACgB,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACiB,YAAY,GAAG,IAAI;IACxB,IAAI,CAACM,KAAK,GAAG,EAAE;IAEf,MAAMgE,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC/B,IAAI,CAAC5F,aAAa,CAACuF,OAAO,CAACG,IAAI,IAAG;MAChCC,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEH,IAAI,CAAC5G,IAAI,CAAC;IACrC,CAAC,CAAC;IAEF,MAAMgH,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IAClD,MAAMC,OAAO,GAAG,IAAIvI,WAAW,CAAC;MAAEwI,aAAa,EAAE,UAAUJ,KAAK;IAAE,CAAE,CAAC;IAErE,IAAI,CAAC1C,IAAI,CAAC+C,IAAI,CAAe,oCAAoC,EAAER,QAAQ,EAAE;MAC3EM,OAAO;MACPG,OAAO,EAAE,QAAQ;MACjBC,cAAc,EAAE;KACjB,CAAC,CAAC5C,SAAS,CAAC;MACXC,IAAI,EAAEU,KAAK,IAAG;QACZ,IAAIA,KAAK,CAACkC,IAAI,KAAK3I,aAAa,CAAC4I,cAAc,IAAInC,KAAK,CAAClD,KAAK,EAAE;UAC9D,IAAI,CAACd,QAAQ,GAAGoG,IAAI,CAACC,KAAK,CAAErC,KAAK,CAACsC,MAAM,GAAGtC,KAAK,CAAClD,KAAK,GAAI,GAAG,CAAC;SAC/D,MAAM,IAAIkD,KAAK,CAACkC,IAAI,KAAK3I,aAAa,CAACgJ,QAAQ,EAAE;UAChD,IAAI,CAACtF,YAAY,GAAG+C,KAAK,CAACwC,IAAI;UAC9B,IAAI,CAACxH,SAAS,GAAG,KAAK;UACtB,IAAI,CAACgB,QAAQ,GAAG,GAAG;UACnB,IAAI,CAACmD,aAAa,EAAE,CAAC,CAAC;UAEtB;UACA,IAAI,IAAI,CAAClC,YAAY,EAAE;YACrB,MAAM;cAAEN,SAAS;cAAEE;YAAM,CAAE,GAAG,IAAI,CAACI,YAAY,CAACC,OAAO;YACvD,IAAIL,MAAM,KAAK,CAAC,EAAE;cAChBgD,KAAK,CAAC,uBAAuBlD,SAAS,sBAAsB,CAAC;aAC9D,MAAM;cACLkD,KAAK,CAAC,qBAAqBlD,SAAS,cAAcE,MAAM,WAAW,CAAC;;;;MAI5E,CAAC;MACDU,KAAK,EAAEiC,GAAG,IAAG;QACX,IAAI,CAACxE,SAAS,GAAG,KAAK;QACtB,IAAI,CAACgB,QAAQ,GAAG,CAAC;QACjB,MAAMyG,QAAQ,GAAGjD,GAAG,CAACjC,KAAK,EAAEmF,MAAM,IAAI,qCAAqC;QAC3E,IAAI,CAACnF,KAAK,GAAGkF,QAAQ;QACrB5C,KAAK,CAAC,UAAU4C,QAAQ,EAAE,CAAC;QAC3BhD,OAAO,CAAClC,KAAK,CAAC,eAAe,EAAEiC,GAAG,CAAC;MACrC;KACD,CAAC;EACJ;EAEA3E,WAAWA,CAAC8H,KAAa;IACvB,IAAIA,KAAK,GAAG,IAAI,EAAE,OAAOA,KAAK,GAAG,IAAI;IACrC,IAAIA,KAAK,GAAG,IAAI,GAAG,IAAI,EAAE,OAAO,CAACA,KAAK,GAAG,IAAI,EAAEC,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK;IACjE,OAAO,CAACD,KAAK,IAAI,IAAI,GAAG,IAAI,CAAC,EAAEC,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK;EACnD;EAEAlG,cAAcA,CAACgG,MAAW;IACxB,MAAM5F,KAAK,GAAG4F,MAAM,CAAC/F,SAAS,GAAG+F,MAAM,CAAC9F,OAAO,GAAG8F,MAAM,CAAC7F,MAAM;IAC/D,OAAOC,KAAK,GAAG,CAAC,GAAGsF,IAAI,CAACC,KAAK,CAAEK,MAAM,CAAC/F,SAAS,GAAGG,KAAK,GAAI,GAAG,CAAC,GAAG,CAAC;EACrE;EAEQuE,UAAUA,CAAA;IAChB,OAAOe,IAAI,CAACS,MAAM,EAAE,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,GAAGC,IAAI,CAACC,GAAG,EAAE;EAC7D;;;uBAjMWrE,iBAAiB,EAAApF,EAAA,CAAA0J,iBAAA,CAAAC,EAAA,CAAAC,cAAA,GAAA5J,EAAA,CAAA0J,iBAAA,CAAAG,EAAA,CAAAC,MAAA,GAAA9J,EAAA,CAAA0J,iBAAA,CAAAK,EAAA,CAAAC,UAAA;IAAA;EAAA;;;YAAjB5E,iBAAiB;MAAA6E,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,2BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCjC9BvK,EAAA,CAAAC,cAAA,aAA6B;UAErBD,EAAA,CAAAE,MAAA,gCAAoB;UAAAF,EAAA,CAAAG,YAAA,EAAK;UAC7BH,EAAA,CAAAC,cAAA,gBAAsD;UAA1BD,EAAA,CAAAI,UAAA,mBAAAqK,mDAAA;YAAA,OAASD,GAAA,CAAArF,aAAA,EAAe;UAAA,EAAC;UACnDnF,EAAA,CAAAC,cAAA,cAAmB;UAAAD,EAAA,CAAAE,MAAA,QAAC;UAAAF,EAAA,CAAAG,YAAA,EAAO;UAACH,EAAA,CAAAE,MAAA,6BAC9B;UAAAF,EAAA,CAAAG,YAAA,EAAS;UAIXH,EAAA,CAAAC,cAAA,aAA4B;UAEpBD,EAAA,CAAAE,MAAA,6CAA2B;UAAAF,EAAA,CAAAG,YAAA,EAAK;UACpCH,EAAA,CAAAC,cAAA,YAAgB;UAAAD,EAAA,CAAAE,MAAA,kEAAqD;UAAAF,EAAA,CAAAG,YAAA,EAAI;UAI3EH,EAAA,CAAAC,cAAA,cAAkC;UAEXD,EAAA,CAAAE,MAAA,oBAAE;UAAAF,EAAA,CAAAG,YAAA,EAAO;UAC5BH,EAAA,CAAAE,MAAA,8BACF;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACRH,EAAA,CAAAC,cAAA,gBAOE;UAJAD,EAAA,CAAAI,UAAA,oBAAAsK,oDAAAC,MAAA;YAAA,OAAUH,GAAA,CAAAjE,cAAA,CAAAoE,MAAA,CAAsB;UAAA,EAAC;UAHnC3K,EAAA,CAAAG,YAAA,EAOE;UAIJH,EAAA,CAAA6B,UAAA,KAAA+I,iCAAA,mBAyCM;UAGN5K,EAAA,CAAA6B,UAAA,KAAAgJ,iCAAA,kBAQM;UAGN7K,EAAA,CAAA6B,UAAA,KAAAiJ,iCAAA,mBAiFM;UAGN9K,EAAA,CAAA6B,UAAA,KAAAkJ,iCAAA,kBAGM;UACR/K,EAAA,CAAAG,YAAA,EAAM;UAGNH,EAAA,CAAAC,cAAA,eAA8B;UACxBD,EAAA,CAAAE,MAAA,6BAAqB;UAAAF,EAAA,CAAAG,YAAA,EAAK;UAE9BH,EAAA,CAAA6B,UAAA,KAAAmJ,iCAAA,kBAGM;UAENhL,EAAA,CAAA6B,UAAA,KAAAoJ,mCAAA,qBAgCQ;UAERjL,EAAA,CAAA6B,UAAA,KAAAqJ,iCAAA,kBAIM;UACRlL,EAAA,CAAAG,YAAA,EAAM;UAGNH,EAAA,CAAAC,cAAA,eAA4B;UACaD,EAAA,CAAAI,UAAA,mBAAA+K,oDAAA;YAAA,OAASX,GAAA,CAAAlE,IAAA,EAAM;UAAA,EAAC;UACrDtG,EAAA,CAAAE,MAAA,gCACF;UAAAF,EAAA,CAAAG,YAAA,EAAS;;;UA5MLH,EAAA,CAAAgB,SAAA,IAAsB;UAAtBhB,EAAA,CAAAuB,UAAA,aAAAiJ,GAAA,CAAAhJ,SAAA,CAAsB;UAKGxB,EAAA,CAAAgB,SAAA,GAA8B;UAA9BhB,EAAA,CAAAuB,UAAA,SAAAiJ,GAAA,CAAApI,aAAA,CAAAC,MAAA,KAA8B;UA4C5BrC,EAAA,CAAAgB,SAAA,GAAmC;UAAnChB,EAAA,CAAAuB,UAAA,SAAAiJ,GAAA,CAAAhJ,SAAA,IAAAgJ,GAAA,CAAAhI,QAAA,SAAmC;UAWrCxC,EAAA,CAAAgB,SAAA,GAAkB;UAAlBhB,EAAA,CAAAuB,UAAA,SAAAiJ,GAAA,CAAA/G,YAAA,CAAkB;UAoFnBzD,EAAA,CAAAgB,SAAA,GAAW;UAAXhB,EAAA,CAAAuB,UAAA,SAAAiJ,GAAA,CAAAzG,KAAA,CAAW;UAUjC/D,EAAA,CAAAgB,SAAA,GAAa;UAAbhB,EAAA,CAAAuB,UAAA,SAAAiJ,GAAA,CAAA/E,OAAA,CAAa;UAKXzF,EAAA,CAAAgB,SAAA,GAAqC;UAArChB,EAAA,CAAAuB,UAAA,UAAAiJ,GAAA,CAAA/E,OAAA,IAAA+E,GAAA,CAAAzF,QAAA,CAAA1C,MAAA,KAAqC;UAkCvCrC,EAAA,CAAAgB,SAAA,GAAuC;UAAvChB,EAAA,CAAAuB,UAAA,UAAAiJ,GAAA,CAAA/E,OAAA,IAAA+E,GAAA,CAAAzF,QAAA,CAAA1C,MAAA,OAAuC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}